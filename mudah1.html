<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mudah 1</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <div id="question" class="question">Pertanyaan akan muncul di sini</div>
  <div id="options" class="options"></div>
  <div class="nav-buttons">
    <button id="btnBack" class="btn btn-back">Kembali</button>
    <button id="btnNext" class="btn btn-next">Lanjut</button>
  </div>
</div>

<script>
  const questions = [
    {
      question: "Pusat pemerintahan Kerajaan Kediri adalah di daerah?",
      options: ["Trowulan", "Daha", "Singasari", "Kahuripan"],
      correct: 1
    },
    {
      question: "Raja Kerajaan Kediri yang terkenal dengan ramalannya mengenai masa depan Nusantara adalah",
      options: ["Kertajaya", "Ken Arok", "Airlangga", "Jayabaya"],
      correct: 3
    },
    {
      question: " Kerajaan Kediri runtuh setelah dikalahkan oleh Ken Arok dari Tumapel pada tahun?",
      options: ["1220", "1228", "1225", "1222"],
      correct: 3
    },
    {
      question: "Pendiri sekaligus raja pertama Kerajaan Singasari adalah?",
      options: ["Ranggawuni", "Ken Arok", "Anusapati", "Raden Wijaya"],
      correct: 1
    },
    {
      question: "Raja terakhir Kerajaan Singasari yang kemudian ditawan oleh Jayakatwang adalah?",
      options: ["Kartanegara", "Wisnuwardhana", "Tunggul Ametung", "Hayam Wuruk"],
      correct: 0
    },
    {
      question: " Tujuan utama ekspedisi yang dilakukan oleh Raja Kertanegara ke luar Jawa adalah untuk menyatukan wilayah Nusantara di bawah nama?",
      options: ["Bhumi Jawa", "Cakrawala Mandala Dwipantara", "Sumpah Pemuda", "Bhineka Tunggal Ika"],
      correct: 1
    },
    {
      question: "Pendiri Kerajaan Majapahit adalah?",
      options: ["Gadjah Mada", "Raden Wijaya", "Jayanegara", "Ken Arok"],
      correct: 1
    },
    {
      question: "Sumpah yang terkenal diucapkan oleh Mahapatih Gajah Mada untuk menyatukan Nusantara dikenal sebagai?",
      options: ["Sumpah Amukti Palapa", "Sumpah Pemuda", "Sumpah Palapa", "Sumpah Prasasti"],
      correct: 2
    },
    {
      question: " Puncak kejayaan Kerajaan Majapahit dicapai pada masa pemerintahan?",
      options: ["Brawijaya V", "Raden Wijaya", "Jayanegara", "Hayam Wuruk"],
      correct: 3
    },
    {
      question: "Kitab yang menceritakan perjalanan dan kekuasaan Majapahit yang ditulis oleh Mpu Prapanca adalah?",
      options: ["Sutasoma", "Arjuna Wiwaha", "Negarakertagama", "Pararaton"],
      correct: 2
    }
  ];

  const SCORE_PER_QUESTION = 10;
  let currentQuestion = 0;
  let answers = JSON.parse(sessionStorage.getItem("answers")) || [];

  function loadQuestion() {
    const q = questions[currentQuestion];
    document.getElementById("question").innerText = q.question;

    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";

    q.options.forEach((opt, index) => {
      const btn = document.createElement("div");
      btn.classList.add("option");
      btn.innerText = opt;

      if (answers[currentQuestion] === index) {
        btn.classList.add("selected");
      }

      btn.addEventListener("click", () => selectOption(index));
      optionsDiv.appendChild(btn);
    });

    // Sesuaikan teks tombol Lanjut/Selesai
    const btnNext = document.getElementById("btnNext");
    btnNext.innerText = currentQuestion < questions.length - 1 ? "Lanjut" : "Selesai";
  }

  function selectOption(index) {
    answers[currentQuestion] = index;
    sessionStorage.setItem("answers", JSON.stringify(answers));
    document.querySelectorAll(".option").forEach((opt, i) => {
      opt.classList.toggle("selected", i === index);
    });
  }

  document.getElementById("btnNext").addEventListener("click", () => {
    if (currentQuestion < questions.length - 1) {
      currentQuestion++;
      loadQuestion();
    } else {
      let score = 0;
      questions.forEach((q, i) => {
        if (answers[i] === q.correct) {
          score += SCORE_PER_QUESTION; 
        }
      });
      sessionStorage.setItem("totalScore", score); 
      sessionStorage.removeItem("answers"); 
      window.location.href = "skor.html";
    }
  });

  document.getElementById("btnBack").addEventListener("click", () => {
    if (currentQuestion === 0) {
      
      window.location.href = "tingkat.html";
    } else {
      
      currentQuestion--;
      loadQuestion();
    }
  });

  loadQuestion();
</script>
</body>
</html>
