<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mudah 1</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <div id="question" class="question">Pertanyaan akan muncul di sini</div>
  <div id="options" class="options"></div>
  <div class="nav-buttons">
    <button id="btnBack" class="btn btn-back">Kembali</button>
    <button id="btnNext" class="btn btn-next">Lanjut</button>
  </div>
</div>

<script>
  const questions = [
    {
      question: "Airlangga membagi Medang menjadi Jenggala & Panjalu untuk?",
      options: ["Mencegah perang saudara", "Memperluas wilayah", "Mendirikan pusat Buddha.", "Menjaga stabilitas & mencegah konflik suksesi"],
      correct: 3
    },
    {
      question: "Sumber sejarah yang menggambarkan kemakmuran Kediri adalah?",
      options: ["Arjunawiwaha", "Prasasti Padlegan", "Prasasti Uchiha", "Negarakertagama"],
      correct: 1
    },
    {
      question: "Korban konspirasi yang memicu dendam turun-temurun di Singasari adalah?",
      options: ["Tunggul Ametung", "Ken Arok", "Anusapati", "Mpu Gading"],
      correct: 0
    },
    {
      question: "Candi Jago bercorak Hindu-Buddha karena?",
      options: ["Dibangun di atas candi lama", "Dibuat seniman India-Tiongkok", "Wisnuwardhana = Siwa & Amoghapasa", "Semua jawaban benar"],
      correct: 2
    },
    {
      question: "Hubungan Majapahit-Sunda berakhir pada peristiwa?",
      options: ["Perang Bubat", "Geger Pacinan", "Paregreg", "Palapa"],
      correct: 0
    },
    {
      question: "Badan penasihat raja yang berisi para ahli agama adalah?",
      options: ["Makhamah Agung", "Dharmmadhyaksa", "Mahapatih", "Ordo"],
      correct: 1
    },
    {
      question: "Penulis Kakawin Sutasoma (Bhinneka Tunggal Ika) adalah?",
      options: ["Mpu Prapanca", "Mpu Sedah", "Mpu Tantular", "Mpu Panuluh"],
      correct: 2
    },
    {
      question: "Perang saudara 1404-1406 antara Wirabhumi & Wikramawardhana disebut?",
      options: ["Paregreg", "Ganter", "Bubat", "Palapa"],
      correct: 0
    },
    {
      question: "Candi bata merah tempat pendharmaan Jayanegara adalah?",
      options: ["Candi Kidal", "Candi Sumberjati", "Candi Penataran", "Candi Singasari"],
      correct: 1
    },
    {
      question: "Majapahit kuat sebagai kerajaan maritim karena menguasai?",
      options: ["Jalur Sutra & Malaka", "Laut Jawa & Selat Malaka", "Selat Sunda", "Laut Cina Selatan"],
      correct: 1
    }
  ];

  const SCORE_PER_QUESTION = 10; 
  let currentQuestion = 0;
  let answers = JSON.parse(sessionStorage.getItem("answers")) || [];

  function loadQuestion() {
    const q = questions[currentQuestion];
    document.getElementById("question").innerText = q.question;

    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";

    q.options.forEach((opt, index) => {
      const btn = document.createElement("div");
      btn.classList.add("option");
      btn.innerText = opt;

      if (answers[currentQuestion] === index) {
        btn.classList.add("selected");
      }

      btn.addEventListener("click", () => selectOption(index));
      optionsDiv.appendChild(btn);
    });

    // Sesuaikan teks tombol Lanjut/Selesai
    const btnNext = document.getElementById("btnNext");
    btnNext.innerText = currentQuestion < questions.length - 1 ? "Lanjut" : "Selesai";
  }

  function selectOption(index) {
    answers[currentQuestion] = index;
    sessionStorage.setItem("answers", JSON.stringify(answers));
    document.querySelectorAll(".option").forEach((opt, i) => {
      opt.classList.toggle("selected", i === index);
    });
  }

  document.getElementById("btnNext").addEventListener("click", () => {
    if (currentQuestion < questions.length - 1) {
 
      currentQuestion++;
      loadQuestion();
    } else {
  
      let score = 0;
      questions.forEach((q, i) => {
  
        if (answers[i] === q.correct) {
          score += SCORE_PER_QUESTION; 
        }
      });
      sessionStorage.setItem("totalScore", score); 
      sessionStorage.removeItem("answers"); 
      window.location.href = "skor.html";
    }
  });

  document.getElementById("btnBack").addEventListener("click", () => {
    if (currentQuestion === 0) {
      window.location.href = "tingkat.html";
    } else {
      currentQuestion--;
      loadQuestion();
    }
  });

  loadQuestion();
</script>
</body>
</html>
